[pytest]
# Define custom markers for test categorization
markers =
    slow: long-running or resource intensive tests (skip with: pytest -m "not slow")
    integration: integration tests that test multiple components together
    unit: unit tests for individual components
    notebook: tests that execute jupyter notebooks

# Add default options for pytest execution
# -ra: show extra test summary info as the test runs
# --strict-markers: ensure all markers are registered
# Enable coverage by default (requires pytest-cov installed)
addopts = -ra --strict-markers --cov=. --cov-report= --cov-fail-under=0

# Define the root directory for tests
testpaths = tests

# Define naming conventions for test files, classes, and functions
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Coverage configuration
[coverage:run]
# Source files to include in coverage analysis.  Using "." includes all files in the project directory
source = .

# Files to exclude from coverage analysis
omit =
    */__init__.py
    */tests/*
    */test_*
    .venv/*
    venv/*
    dist/*
    build/*
    */setup.py
    # Exclude notebooks in the root directory, if applicable
    *.ipynb

[coverage:report]
# Minimum acceptable coverage percentage
fail_under = 80

# Show lines that are not covered by tests
show_missing = True

# Don't report on files that have no code
skip_empty = True

# TODO: Add coverage reporting to a file or external service if needed.
# Example:
# report_file = coverage.xml